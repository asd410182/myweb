<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="submit.css">
<title>登录页面</title>

</head>
<body>
<div class="htmleaf-container">
    <div id="wrapper" class="login-page">
      <div id="login_form" class="form">
        <form class="login-form" action="2.html" method="post">
          <input type="text" placeholder="用户名" id="user_name"/>
          <input type="password" placeholder="密码" id="password"/>
          <button id="login" onclick="return define()">登　录</button>
          <p class="message">还没有账户? <a href="zhuce.html">立刻创建</a></p>
        </form>
      </div>
    </div>
</div>
<script>
function  getsubmit(){
const form = document.getElementById('formid');
form.addEventListener('submit', (e)=> {
  e.preventDefault();
  const inputVal = document.getElementById('name').value;
  const dataToSend = {
    val: `${inputVal}`
  };
  localStorage.setItem('objectToPass', JSON.stringify(dataToSend));
});
}
</script>
<script type="text/javascript">
    var oLname = document.getElementById("user_name");
    var oLkey = document.getElementById("password");
    function setCookie(cname,cvalue,exdays){
        var d = new Date();
        d.setTime(d.getTime()+(exdays*24*60*60*1000));
        var expires = "expires="+d.toGMTString();
        document.cookie = cname+"="+cvalue+"; "+expires;
        }
      function getCookie(cname){
          var name = cname + "=";
          var ca = document.cookie.split(';');
          for(var i=0; i<ca.length; i++) {
              var c = ca[i].trim();
                if (c.indexOf(name)==0) { return c.substring(name.length,c.length); }
          }
          return "";
        }
   //添加按钮点击事件，点击文本框取值并连接 ( val =  用户名+密码 )（1） 
    function define() {
         var val = oLname.value+":"+oLkey.value;
          if(getCookie("bank")){ //从bank的cookie中取出库的信息，并分成数组(2)
            var arrBank = getCookie("bank").split("_");
            var boo = false;
            for( var i = 0; i < arrBank.length ; i++  ){//遍历这个数组，是否能匹配到文本框取的值（3）
                if(val == arrBank[i]){
                     boo = true;
                }
            }
            if ( boo == true) {
                setCookie("user", val);//匹配到弹出登陆成功，并刷新页面（4）
                alert("登陆成功");
                return true;
            }else {
                alert("用户名密码错误");
                return false;//（4）没匹配到弹出用户名密码错误
            } 
          }
    }
</script>
</body>
</html>